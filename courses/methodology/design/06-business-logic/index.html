<!DOCTYPE html>
<html lang="ru" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.75.1" />
    <meta name="description" content="Материалы курсов на кафедре Технологии Программирования. ПМ-ПУ">
<meta name="author" content="Alexander Ulanov">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Организация бизнес-логики :: Материалы курсов на кафедре Технологии Программирования. ПМ-ПУ</title>

    
    <link href="/css/nucleus.css?1604756284" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1604756284" rel="stylesheet">
    <link href="/css/hybrid.css?1604756284" rel="stylesheet">
    <link href="/css/featherlight.min.css?1604756284" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1604756284" rel="stylesheet">
    <link href="/css/auto-complete.css?1604756284" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1604756284" rel="stylesheet">
    <link href="/css/theme.css?1604756284" rel="stylesheet">
    <link href="/css/hugo-theme.css?1604756284" rel="stylesheet">
    
    <link href="/css/theme-green.css?1604756284" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1604756284"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/courses/methodology/design/06-business-logic/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <img src="http://www.apmath.spbu.ru/redesign/v1004/main/assets/images/logo.png" alt="" style="height: 3.57143rem;">
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Поиск...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1604756284"></script>
<script type="text/javascript" src="/js/auto-complete.js?1604756284"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/apmath-spbu.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1604756284"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/courses/" title="Материалы по лекциям на кафедре технологии программирования" class="dd-item 
        parent
        
        
        ">
      <a href="/courses/">
          Материалы по лекциям на кафедре технологии программирования
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/" title="Основы программирования Осень 2020" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/">
          Основы программирования Осень 2020
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/lecture1/" title="Лекция #1" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/lecture1/">
          Лекция #1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part1/" title="1.1. Введение в программирование" class="dd-item ">
        <a href="/courses/basics/lecture1/part1/">
        1.1. Введение в программирование
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part2/" title="1.2. Введение в языки программирования C и C&#43;&#43;" class="dd-item ">
        <a href="/courses/basics/lecture1/part2/">
        1.2. Введение в языки программирования C и C&#43;&#43;
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part3/" title="1.3. Компиляция" class="dd-item ">
        <a href="/courses/basics/lecture1/part3/">
        1.3. Компиляция
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part4/" title="1.4. Типы данных" class="dd-item ">
        <a href="/courses/basics/lecture1/part4/">
        1.4. Типы данных
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part5/" title="1.5. Переменные" class="dd-item ">
        <a href="/courses/basics/lecture1/part5/">
        1.5. Переменные
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part6/" title="1.6. Инструкции. Условные операторы. Циклы" class="dd-item ">
        <a href="/courses/basics/lecture1/part6/">
        1.6. Инструкции. Условные операторы. Циклы
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part7/" title="1.7. Функции" class="dd-item ">
        <a href="/courses/basics/lecture1/part7/">
        1.7. Функции
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture1/part8/" title="1.8. Макросы. Ввод-вывод" class="dd-item ">
        <a href="/courses/basics/lecture1/part8/">
        1.8. Макросы. Ввод-вывод
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/lecture2/" title="Лекция #2" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/lecture2/">
          Лекция #2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture2/callstack/" title="Стек вызовов" class="dd-item ">
        <a href="/courses/basics/lecture2/callstack/">
        Стек вызовов
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture2/pointers/" title="Указатели" class="dd-item ">
        <a href="/courses/basics/lecture2/pointers/">
        Указатели
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture2/arrays/" title="Массивы" class="dd-item ">
        <a href="/courses/basics/lecture2/arrays/">
        Массивы
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture2/strings/" title="Строки" class="dd-item ">
        <a href="/courses/basics/lecture2/strings/">
        Строки
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture2/vector/" title="Vector" class="dd-item ">
        <a href="/courses/basics/lecture2/vector/">
        Vector
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/lecture3/" title="Лекция #3" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/lecture3/">
          Лекция #3
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture3/references/" title="Ссылки" class="dd-item ">
        <a href="/courses/basics/lecture3/references/">
        Ссылки
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture3/dynamic/" title="Диначеская память" class="dd-item ">
        <a href="/courses/basics/lecture3/dynamic/">
        Диначеская память
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture3/multiplearrays/" title="Многомерные массивы" class="dd-item ">
        <a href="/courses/basics/lecture3/multiplearrays/">
        Многомерные массивы
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture3/const/" title="Const" class="dd-item ">
        <a href="/courses/basics/lecture3/const/">
        Const
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/lecture4/" title="Лекция #4" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/lecture4/">
          Лекция #4
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture4/struct/" title="Структура" class="dd-item ">
        <a href="/courses/basics/lecture4/struct/">
        Структура
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture4/incapsulation/" title="Инкапсуляция" class="dd-item ">
        <a href="/courses/basics/lecture4/incapsulation/">
        Инкапсуляция
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture4/mutable/" title="Mutable" class="dd-item ">
        <a href="/courses/basics/lecture4/mutable/">
        Mutable
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture4/this/" title="this" class="dd-item ">
        <a href="/courses/basics/lecture4/this/">
        this
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture4/constructor/" title="Конструктор" class="dd-item ">
        <a href="/courses/basics/lecture4/constructor/">
        Конструктор
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/lecture5/" title="Лекция #5" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/lecture5/">
          Лекция #5
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/accessmodifier/" title="Модификаторы доступа" class="dd-item ">
        <a href="/courses/basics/lecture5/accessmodifier/">
        Модификаторы доступа
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/polymorphism/" title="Полиморфизм" class="dd-item ">
        <a href="/courses/basics/lecture5/polymorphism/">
        Полиморфизм
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/inheritance/" title="Наследование" class="dd-item ">
        <a href="/courses/basics/lecture5/inheritance/">
        Наследование
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/virtualfunctions/" title="Виртуальные функции" class="dd-item ">
        <a href="/courses/basics/lecture5/virtualfunctions/">
        Виртуальные функции
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/final/" title="Финальные методы и классы" class="dd-item ">
        <a href="/courses/basics/lecture5/final/">
        Финальные методы и классы
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/multipleinheritance/" title="Множественное наследование" class="dd-item ">
        <a href="/courses/basics/lecture5/multipleinheritance/">
        Множественное наследование
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/basics/lecture5/dynamiccast/" title="Динамическая идентификация типов времени выполнения" class="dd-item ">
        <a href="/courses/basics/lecture5/dynamiccast/">
        Динамическая идентификация типов времени выполнения
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/basics/ide/" title="Среда разработки для C&#43;&#43;" class="dd-item 
        
        
        
        ">
      <a href="/courses/basics/ide/">
          Среда разработки для C&#43;&#43;
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/methodology/" title="Совеременные методологии разработки программного обеспечения." class="dd-item 
        parent
        
        
        ">
      <a href="/courses/methodology/">
          Совеременные методологии разработки программного обеспечения.
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/history/" title="История" class="dd-item ">
        <a href="/courses/methodology/history/">
        История
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/sdlc/" title="Жизненный цикл ПО" class="dd-item ">
        <a href="/courses/methodology/sdlc/">
        Жизненный цикл ПО
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/sdm/" title="Модели разработки ПО" class="dd-item ">
        <a href="/courses/methodology/sdm/">
        Модели разработки ПО
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/constructing/" title="Конструирование ПО" class="dd-item ">
        <a href="/courses/methodology/constructing/">
        Конструирование ПО
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/quality/" title="Качество ПО" class="dd-item ">
        <a href="/courses/methodology/quality/">
        Качество ПО
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/git/" title="Git" class="dd-item ">
        <a href="/courses/methodology/git/">
        Git
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/courses/methodology/design/" title="Проектирование информационных систем" class="dd-item 
        parent
        
        
        ">
      <a href="/courses/methodology/design/">
          Проектирование информационных систем
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/00-architecture/" title="Архитектура" class="dd-item ">
        <a href="/courses/methodology/design/00-architecture/">
        Архитектура
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/01-performance/" title="Производительность" class="dd-item ">
        <a href="/courses/methodology/design/01-performance/">
        Производительность
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/02-layering/" title="&#39;Расслоение&#39; системы" class="dd-item ">
        <a href="/courses/methodology/design/02-layering/">
        &#39;Расслоение&#39; системы
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/03-model-layer-evolution/" title="Развитие модели слоев в корпоративных программных приложениях" class="dd-item ">
        <a href="/courses/methodology/design/03-model-layer-evolution/">
        Развитие модели слоев в корпоративных программных приложениях
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/04-three-main-layers/" title="Три основных слоя" class="dd-item ">
        <a href="/courses/methodology/design/04-three-main-layers/">
        Три основных слоя
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/05-where-deploy-layers/" title="Где должны функционировать слои" class="dd-item ">
        <a href="/courses/methodology/design/05-where-deploy-layers/">
        Где должны функционировать слои
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/06-business-logic/" title="Организация бизнес-логики" class="dd-item active">
        <a href="/courses/methodology/design/06-business-logic/">
        Организация бизнес-логики
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/07-service-layer/" title="Уровень служб" class="dd-item ">
        <a href="/courses/methodology/design/07-service-layer/">
        Уровень служб
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/courses/methodology/design/08-data-source/" title="Источник данных" class="dd-item ">
        <a href="/courses/methodology/design/08-data-source/">
        Источник данных
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Очистить историю</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Материалы курсов на кафедре Технологии Программирования. ПМ-ПУ</a> > <a href='/courses/'>Материалы по лекциям на кафедре технологии программирования</a> > <a href='/courses/methodology/'>Совеременные методологии разработки программного обеспечения.</a> > <a href='/courses/methodology/design/'>Проектирование информационных систем</a> > Организация бизнес-логики
          
        
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#cценарий-транзакции">Cценарий транзакции</a></li>
    <li><a href="#модель-предметной-области">Модель предметной области</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#модуль-таблицы">Модуль таблицы</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Организация бизнес-логики
            </h1>
          

        


<p>Рассматривая структуру логики предметной области (или бизнес-логики) приложения, отмечу, что варианты распределения множества предусматриваемых ею функций могут рассматриваться по трем типовым решениям:</p>
<ul>
<li>сценарий транзакции (Transaction Script)</li>
<li>модель предметной области (Domain Model)</li>
<li>модуль таблицы (Table Module)</li>
</ul>
<h2 id="cценарий-транзакции">Cценарий транзакции</h2>
<p>Простейший подход к описанию бизнес-логики связан с использованием сценария транзакции — процедуры, которая получает на вход информацию от слоя представления, обрабатывает ее, проводя необходимые проверки и вычисления, сохраняет в базе данных и активизирует операции других систем. Затем процедура возвращает слою представления определенные данные, возможно, осуществляя вспомогательные операции для форматирования содержимого результата. Бизнес-логика в этом случае описывается набором процедур, по одной на каждую (составную) операцию, которую способно выполнять приложение. Типовое решение сценарий транзакции, таким образом, можно трактовать как сценарий действия, или бизнес-транзакцию. Оно не обязательно должно представлять собой единый фрагмент кода. Код делится на подпрограммы, которые распределяются между различными сценариями транзакции.</p>
<p>Типовое решение сценарий транзакции отличается следующими преимуществами:</p>
<ul>
<li>представляет собой удобную процедурную модель, легко воспринимаемую всеми разработчиками;</li>
<li>удачно сочетается с простыми схемами организации слоя источника данных на основе типовых решений шлюз записи данных (Row Data Gateway) и шлюз таблицы данных (Table Data Gateway);</li>
<li>определяет четкие границы транзакции.</li>
</ul>
<p>С возрастанием уровня сложности бизнес-логики типовое решение сценарий транзакции демонстрирует и ряд недостатков. Если нескольким транзакциям необходимо осуществлять схожие функции, возникает опасность дублирования фрагментов кода. С этим явлением удается частично справиться за счет вынесения общих подпрограмм «за скобки», но даже в этом случае большая часть дубликатов остается на месте. В итоге приложение может выглядеть как беспорядочная мешанина без отчетливой структуры.</p>
<p>Конечно, сложная логика — это удачный повод вспомнить об объектах, и объектноориентированный вариант решения проблемы связан с использованием модели предметной области, которая, по меньшей мере в первом приближении, структурируется преимущественно вокруг основных сущностей рассматриваемого домена. Так, например, в лизинговой системе следовало бы создать классы, представляющие сущности «аренда», «имущество», «договор» и т.д., и предусмотреть логику проверок и вычислений: так, например, объект, представляющий сущность «имущество», вероятно, уместно снабдить логикой вычисления стоимости.</p>
<h2 id="модель-предметной-области">Модель предметной области</h2>
<p>Выбор модели предметной области в противовес сценарию транзакции — это как раз та смена парадигмы программирования, о которой так любят говорить апологеты объектного подхода. Вместо использования одной подпрограммы, несущей в себе всю логику, которая соответствует некоторому действию пользователя, каждый объект наделяется только функциями, отвечающими его природе. Если прежде вы не пользовались моделью предметной области, процесс обучения может принести немало огорчений, когда в поисках нужных функций вам придется метаться от одного класса к другому.</p>
<p>Рассмотрим простой пример, позволяющий увидеть различие между двумя рассматриваемыми подходами. Простейший способ состоит в сопоставлении <strong>диаграмм последовательностей (sequence diagrams)</strong>, соответствующих обоим вариантам решения одной проблемы:</p>
<h4 id="вычисление-зачтенного-дохода-с-помощью-сценария-транзакции">Вычисление зачтенного дохода с помощью сценария транзакции</h4>

<div class="mermaid" align="center">
sequenceDiagram
    autonumber
    participant User as Пользователь
    participant A as Служба определения зачтенного дохода
    participant B as Шлюз данных
    User-->>+A: calculateRecognitions(contractId)
    A->>+B: findContract(contractId)
    loop 
        B-->>B: Получение данных
    end
    B->>-A: извлечь данные
    A->>+B: вставить запись о зачтенном доходе
    B-->>-A: response
    A-->>-User: response
</div>

<h4 id="вычисление-зачтенного-дохода-с-помощью-модели-предметной-области">Вычисление зачтенного дохода с помощью модели предметной области</h4>

<div class="mermaid" align="center">
sequenceDiagram
    autonumber
    participant User as Пользователь
    participant Contract as Контракт
    participant Product as Продукт
    participant Strategy as Стратегия определения зачтенного дохода
    User-->>+Contract: calculateRecognitions
    Contract->>+Product: calculateRecognitions(aСontract)
    Product->>+Strategy: calculateRecognitions(aСontract)
    Strategy-->>-Product: * new зачтенный доход
    Product-->>-Contract: -
    Contract-->>-User: -
</div>

<p>В задаче определения зачтенного дохода от продажи каждого продукта в рамках заданного контракта алгоритм вычислений зависит от типа продукта. Вычислительный метод должен распознать тип продукта, применить подходящий алгоритм, а затем создать соответствующий объект, представляющий значение дохода.</p>
<p>В первом случае видно, что все обязанности возлагаются на метод сценария транзакции, получающий данные от объектов типа шлюз таблицы данных. Во втором показано, напротив, несколько объектов, каждый из которых несет ответственность за выполнение своей доли функций, а результат генерируется объектом «Стратегия определения зачтенного дохода».</p>
<p>Ценность модели предметной области состоит в том, что, освоившись с подходом, вы получаете в свое распоряжение множество приемов, позволяющих поладить с возрастающей сложностью бизнес-логики «цивилизованным» путем. Например, с увеличением количества алгоритмов расчета дохода достаточно создавать новые объекты «Стратегия определения зачтенного дохода». При использовании сценария транзакции в аналогичной ситуации пришлось бы добавлять в логику метода дополнительные условия.</p>
<h2 id="модуль-таблицы">Модуль таблицы</h2>
<p>На первый взгляд это типовое решение очень похоже на модель предметной области: в обоих случаях создаются отдельные классы, представляющие контракт, продукт и зачтенный доход. Принципиальное различие заключается в том, что модель предметной области содержит по одному объекту контракта для каждого контракта, зафиксированного в базе данных, а модуль таблицы является единственным объектом. Модуль таблицы применяется совместно с типовым решением множество записей (Record Set). Посылая запросы к базе данных, пользователь прежде всего формирует объект множество записей, а затем создает объект контракта, передавая ему множество записей в качестве аргумента. Если потребуется выполнять операции над отдельным контрактом, следует сообщить объекту соответствующий идентификатор (Id).</p>
<h4 id="вычисление-зачтенного-дохода-с-модуля-таблицы">Вычисление зачтенного дохода с модуля таблицы</h4>

<div class="mermaid" align="center">
sequenceDiagram
    autonumber
    participant User as Пользователь
    participant Contract as Контракт
    participant Product as Продукт
    participant Revenue as Доход
    User-->>Contract: calculateRecognitions(contractId)
    Contract->>Product: getProductType(productId)
    Contract->>Revenue: new
    Contract->>Revenue: insert
</div>

<p>Модуль таблицы во многих смыслах представляет собой промежуточный вариант, компромиссный по отношению к сценарию транзакции и модели предметной области. Организация бизнес-логики вокруг таблиц, а не в виде прямолинейных процедур облегчает структурирование и возможность поиска и удаления повторяющихся фрагментов кода. Однако решение модуль таблицы не позволяет использовать многие технологии (скажем, наследование (inheritance), стратегии (strategies) и другие объектно-ориентированные типовые решения), которые применяются в модели предметной области для уточнения структуры логики.</p>
<p>+Наибольшее преимущество модуля таблицы состоит в том, как это решение сочетается с остальными аспектами архитектуры. Многие графические интерфейсные среды позволяют работать с результатами обработки SQL-запроса, организованными в виде множества записей. Поскольку решение модуль таблицы также основано на использовании множества записей, открывается возможность выполнения запроса, манипулирования его результатом в контексте модуля таблицы и передачи данных графическому интерфейсу для отображения. Некоторые платформы, в частности .NET, поддерживают именно такой стиль разработки.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/courses/methodology/design/05-where-deploy-layers/" title="Где должны функционировать слои"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/courses/methodology/design/07-service-layer/" title="Уровень служб" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1604756284"></script>
    <script src="/js/perfect-scrollbar.min.js?1604756284"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1604756284"></script>
    <script src="/js/jquery.sticky.js?1604756284"></script>
    <script src="/js/featherlight.min.js?1604756284"></script>
    <script src="/js/highlight.pack.js?1604756284"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1604756284"></script>
    <script src="/js/learn.js?1604756284"></script>
    <script src="/js/hugo-learn.js?1604756284"></script>
    
        
            <script src="/mermaid/mermaid.js?1604756284"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179019749-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-179019749-1');
</script>
  </body>
</html>

